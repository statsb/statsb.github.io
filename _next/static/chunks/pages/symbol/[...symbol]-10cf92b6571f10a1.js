(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[718],{2280:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/symbol/[...symbol]",function(){return s(7765)}])},7765:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return h}});var r=s(5893),a=s(7294),t=s(7943),n=s.n(t),c=s(1163);function o(e){let{data:l,lowerThreshold:s,upperThreshold:a,filtered:t}=e;return(0,r.jsxs)("table",{className:"table table-hover table-sm",children:[(0,r.jsx)("thead",{className:"table-light",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:n().th,children:"#"}),(0,r.jsx)("th",{scope:"col",className:n().th,children:"buySellRatio"}),(0,r.jsx)("th",{scope:"col",className:n().th,children:"buyVol"}),(0,r.jsx)("th",{scope:"col",className:n().th,children:"sellVol"}),(0,r.jsx)("th",{scope:"col",className:n().th,children:"timestamp"})]})}),(0,r.jsx)("tbody",{children:l.map((e,l)=>{let{buySellRatio:n,buyVol:c,sellVol:o,timestamp:i}=e,d=n<=s,h=n>=a;if(t&&!d&&!h)return null;let m=d?"danger":h?"success":"";return(0,r.jsxs)("tr",{className:m&&!t?"table-".concat(m):"",children:[(0,r.jsx)("th",{scope:"row",children:l+1}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:m?"badge bg-".concat(m):"",children:n})}),(0,r.jsx)("td",{children:c}),(0,r.jsx)("td",{children:o}),(0,r.jsx)("td",{className:"small",children:"".concat(new Date(i).toLocaleTimeString().replace(":00 AM"," am").replace(":00 PM"," pm"),", ").concat(new Date(i).toLocaleDateString())})]},l)})})]})}let i=()=>{var e;let l=(0,c.useRouter)(),s=null===(e=l.query)||void 0===e?void 0:e.symbol;return(null==s?void 0:s.length)?s:[void 0,void 0,void 0,void 0,void 0]};function d(e){let{apikey:l,params:s}=e,{_symbol:t,_period:c,_limit:i,_lowerThreshold:d,_upperThreshold:h}=s,[m,u]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null!=t?t:"BTCUSDT"),[j,b]=(0,a.useState)(null!=c?c:"5m"),[v,N]=(0,a.useState)(null!=i?i:30),[f,g]=(0,a.useState)(null!=d?d:.8),T=(0,a.useRef)(null!=d?d:.8),[_,y]=(0,a.useState)(null!=h?h:1.2),w=(0,a.useRef)(null!=h?h:1.2),[S,k]=(0,a.useState)(5),D=(0,a.useRef)(5),[E,F]=(0,a.useState)(0),C=(0,a.useRef)(0),R=(0,a.useRef)(null),[O,G]=(0,a.useState)(!0),[I,L]=(0,a.useState)(!1),P=(0,a.useRef)(!1),[H,B]=(0,a.useState)([]),K=()=>{G(!O)},M=()=>{P.current=!I,L(!I)},U=e=>{p(e.currentTarget.value)},X=e=>{b(e.currentTarget.value)},A=e=>{let l=Number(e.currentTarget.value);g(l),T.current=l},J=e=>{let l=Number(e.currentTarget.value);y(Number(e.currentTarget.value)),w.current=l},V=e=>{k(Number(e.currentTarget.value)),D.current=Number(e.currentTarget.value),C.current=0,F(0)},Y=e=>{N(Number(e.currentTarget.value))},q=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(C.current=60*D.current,F(60*D.current)),R.current=setTimeout(()=>{let e=Math.max(C.current-1,0);0===e?(Z(),F(e)):(C.current=e,F(e),q())},1e3)},z=()=>{var e;null===(e=document.getElementById("audio"))||void 0===e||e.play()},Q=e=>{if(!e||!e.length)return;let l=0,s=0,r=JSON.parse(JSON.stringify(e));r.forEach(e=>{let{buySellRatio:r}=e;r<=T.current?l+=1:r>=w.current&&(s+=1)}),"undefined"!=typeof document&&(document.title="".concat(x," \uD83D\uDD34").concat(l," \uD83D\uDFE2").concat(s),P.current&&(l>0||s>0)&&z())},W=e=>new Promise(l=>setTimeout(l,e)),Z=async()=>{clearTimeout(R.current),await W(0);try{u(!0);let e=await fetch("https://fapi.binance.com/futures/data/takerlongshortRatio?symbol=".concat(x,"&period=").concat(j,"&limit=").concat(v),{headers:{"X-MBX-APIKEY":l}}),s=await e.json();if(console.log(s),B(s),!s||!s.length)return;q(!0),Q(s)}catch(e){console.log(e),document.write(JSON.stringify(null==e?void 0:e.message))}finally{u(!1)}},$=e=>{e.preventDefault(),Z()},ee=()=>{window.localStorage.removeItem("APIKEY"),window.location.reload()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:"navbar navbar-dark bg-dark mb-5 p-3 shadow-sm",children:(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("strong",{className:"navbar-brand",children:"statsb.github.io"}),(0,r.jsx)("div",{className:"d-flex",children:(0,r.jsx)("button",{className:"btn btn-outline-warning",onClick:ee,children:"Logout"})})]})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-sm-4 mb-5",children:(0,r.jsx)("div",{className:"card",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsx)("h5",{className:"card-title",children:"Taker Buy/Sell Volume"}),(0,r.jsx)("h6",{className:"card-subtitle mb-4 text-muted",children:(0,r.jsx)("code",{children:"GET /futures/data/takerlongshortRatio"})}),(0,r.jsxs)("form",{onSubmit:$,children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"symbol",children:"Symbol"}),(0,r.jsx)("input",{value:x,onChange:U,type:"text",className:"form-control",id:"symbol","aria-describedby":"symbolHelp",placeholder:"symbol e.g. BTCUSDT"})]}),(0,r.jsxs)("div",{className:"col form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"period",children:"Period"}),(0,r.jsxs)("select",{value:j,onChange:X,className:"form-control",id:"period",children:[(0,r.jsx)("option",{children:"1m"}),(0,r.jsx)("option",{children:"3m"}),(0,r.jsx)("option",{children:"5m"}),(0,r.jsx)("option",{children:"15m"}),(0,r.jsx)("option",{children:"30m"}),(0,r.jsx)("option",{children:"1h"}),(0,r.jsx)("option",{children:"2h"}),(0,r.jsx)("option",{children:"4h"}),(0,r.jsx)("option",{children:"6h"}),(0,r.jsx)("option",{children:"12h"}),(0,r.jsx)("option",{children:"1d"})]})]})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"lowerThreshold",children:"Limit"}),(0,r.jsx)("input",{value:v,onChange:Y,type:"number",className:"form-control",id:"limit","aria-describedby":"limitHelp",placeholder:"limit (30 - 500)"})]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"lowerThreshold",children:"Lower Threshold"}),(0,r.jsx)("input",{value:f,onChange:A,type:"number",className:"form-control",id:"lowerThreshold","aria-describedby":"lowerThresholdHelp",placeholder:"lowerThreshold"})]}),(0,r.jsxs)("div",{className:"col form-group mb-3",children:[(0,r.jsx)("label",{htmlFor:"upperThreshold",children:"Upper Threshold"}),(0,r.jsx)("input",{value:_,onChange:J,type:"number",className:"form-control",id:"upperThreshold","aria-describedby":"upperThresholdHelp",placeholder:"upperThreshold"})]})]}),(0,r.jsx)("div",{className:"d-grid mt-3",children:(0,r.jsx)("button",{disabled:m,type:"submit",className:"btn btn-block btn-warning mb-2",children:"Submit"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col form-group mt-5 mb-2",children:[(0,r.jsx)("label",{htmlFor:"gap",children:"Refresh every:"}),(0,r.jsxs)("select",{value:S,onChange:V,className:"form-control",id:"gap",children:[(0,r.jsx)("option",{value:.5,children:"30s"}),(0,r.jsx)("option",{value:1,children:"1m"}),(0,r.jsx)("option",{value:2,children:"2m"}),(0,r.jsx)("option",{value:3,children:"3m"}),(0,r.jsx)("option",{value:5,children:"5m"}),(0,r.jsx)("option",{value:15,children:"15m"}),(0,r.jsx)("option",{value:30,children:"30m"}),(0,r.jsx)("option",{value:60,children:"1h"})]})]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-sm form-group pt-3 toggle-box",children:[(0,r.jsx)("label",{className:"form-check-label",htmlFor:"filtered",children:"Filter"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{checked:O,onChange:K,type:"checkbox",className:"form-check-input",id:"filtered"})]}),(0,r.jsxs)("div",{className:"col-sm form-group pt-3 toggle-box",children:[(0,r.jsx)("label",{className:"form-check-label",htmlFor:"filtered",children:"Notify"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{checked:I,onChange:M,type:"checkbox",className:"form-check-input",id:"notify"})]})]}),!!(null==H?void 0:H.length)&&(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-sm pt-5",children:(0,r.jsx)("div",{className:"progress",style:{height:"30px"},children:(0,r.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":75,"aria-valuemin":0,"aria-valuemax":100,style:{width:"".concat(Math.floor(E/(60*S)*100),"%")},children:(0,r.jsxs)("b",{className:n().progressFont,children:[E,"s"]})})})})})]})]})})}),(0,r.jsx)("div",{className:"col-sm-1"}),(0,r.jsx)("div",{className:n().scrollable+" col-sm-7",children:(0,r.jsxs)("div",{className:n().relative,children:[m&&(0,r.jsx)("div",{className:n().loader,children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"spinner-border",role:"status",children:(0,r.jsx)("span",{className:"sr-only"})})})}),!!H.length&&(0,r.jsx)(o,{data:H,lowerThreshold:f,upperThreshold:_,filtered:O}),!!H&&!H.length&&!m&&(0,r.jsx)("div",{className:n().mt100+" text-muted text-center",children:"[No data]"}),(0,r.jsx)("audio",{src:"https://cdn.pixabay.com/download/audio/2021/08/09/audio_9f35254621.mp3?filename=notification-sound-7062.mp3",id:"audio",controls:!0,style:{display:"none"}})]})})]})})]})}function h(){let e=(0,c.useRouter)(),[l,s]=(0,a.useState)("PENDING"),[t,n]=(0,a.useState)(""),[o,h,m,u,x]=i();if((0,a.useEffect)(()=>{let e=localStorage.getItem("APIKEY");e?(n(e),s("LOGGED_IN")):s("LOGGED_OUT")},[]),"PENDING"===l)return(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("div",{className:"spinner-border",role:"status",children:(0,r.jsx)("span",{className:"sr-only"})})});if("LOGGED_OUT"===l)e.replace("/login");else if("LOGGED_IN"===l&&o)return(0,r.jsx)(d,{apikey:t,params:{_symbol:o,_period:h,_limit:m,_lowerThreshold:u,_upperThreshold:x}});return null}},7943:function(e){e.exports={relative:"Theme_relative__LR7zh",loader:"Theme_loader__jrf50",checkbox:"Theme_checkbox__KnD92",biglabel:"Theme_biglabel___Trx5",th:"Theme_th___Thsm",invert:"Theme_invert__dEfSO",mt100:"Theme_mt100__KoXnh",progressFont:"Theme_progressFont__10Hst",scrollable:"Theme_scrollable__dNjHf"}},1163:function(e,l,s){e.exports=s(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2280)}),_N_E=e.O()}]);